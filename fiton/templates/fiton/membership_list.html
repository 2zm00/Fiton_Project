{% extends 'base.html' %}
{% block content %}
<div class="membership-list">
    <h1 class="page-title">{{ center.name }} 회원권 목록</h1>
    
    {% if user.role == 'centerowner' and center.owner.user == user %}
    <div class="action-header">
        <a href="{% url 'fiton:membership_create' pk=center.id %}" class="action-button create">회원권 생성</a>
    </div>
    {% endif %}
    
    <div class="membership-grid">
        {% for membership in membership_list %}
        <div class="membership-card">
            <div class="card-content">
                <h2 class="membership-name">{{ membership.name }}</h2>
                <div class="membership-details">
                    <p class="price">{{ membership.price }}원</p>
                    <p class="duration">{{ membership.duration }}일</p>
                </div>
                
                <div class="button-group">
                    {% if user.role == 'centerowner' and center.owner.user == user %}
                    <a href="{% url 'fiton:membership_detail' center_pk=center.id membership_pk=membership.id %}" 
                       class="action-button detail">상세보기</a>
                    {% endif %}
                    
                    {% if user.role == 'member' %}
                    <a href="{% url 'fiton:membership_purchase' center_pk=center.id membership_pk=membership.id %} " 
                       class="action-button purchase">구매하기</a>
                    {% endif %}
                </div>
            </div>
        </div>
        {% empty %}
        <div class="empty-state">
            <p>등록된 회원권이 없습니다.</p>
        </div>
        {% endfor %}
    </div>
</div>

<style>
    .membership-list {
        max-width: 1200px;
        margin: 40px auto;
        padding: 0 24px;
    }

    .page-title {
        font-size: 34px;
        font-weight: 700;
        color: #1d1d1f;
        margin-bottom: 32px;
        text-align: center;
    }

    .action-header {
        text-align: right;
        margin-bottom: 24px;
    }

    .membership-grid {
        display: grid;
        grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
        gap: 24px;
        margin-top: 24px;
    }

    .membership-card {
        background: #fff;
        border-radius: 20px;
        box-shadow: 0 2px 12px rgba(0,0,0,0.05);
        transition: all 0.3s ease;
    }

    .membership-card:hover {
        transform: scale(1.02);
    }

    .card-content {
        padding: 24px;
    }

    .membership-name {
        font-size: 24px;
        font-weight: 600;
        color: #1d1d1f;
        margin-bottom: 16px;
    }

    .membership-details {
        margin-bottom: 24px;
    }

    .price {
        font-size: 28px;
        font-weight: 700;
        color: #0066cc;
        margin-bottom: 8px;
    }

    .duration {
        font-size: 17px;
        color: #86868b;
    }

    .action-button {
        display: inline-block;
        padding: 12px 24px;
        border-radius: 980px;
        text-align: center;
        text-decoration: none;
        font-size: 17px;
        font-weight: 500;
        transition: all 0.2s ease;
    }

    .action-button.create {
        background: #0066cc;
        color: #fff;
    }

    .action-button.detail {
        background: #f5f5f7;
        color: #1d1d1f;
        width: 100%;
    }

    .action-button.purchase {
        background: #0066cc;
        color: #fff;
        width: 100%;
    }

    .action-button:hover {
        transform: scale(1.02);
    }

    .empty-state {
        text-align: center;
        padding: 48px;
        background: #f5f5f7;
        border-radius: 16px;
        color: #86868b;
        font-size: 17px;
        grid-column: 1 / -1;
    }
</style>
{% endblock %}
